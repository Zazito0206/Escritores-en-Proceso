<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Escritores en Proceso</title>
    <link rel="icon" href="/images/logo.png">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" /> <!-- Enlace al archivo CSS -->
    <link rel="manifest" href="manifest.json">
</head>
<body>

<aside id="beta-banner" aria-label="Aviso beta" class="beta-banner">
  <p>
    <strong>Aviso:</strong> Hemos decidido lanzar la p√°gina en versi√≥n beta para empezar a ayudarnos mutuamente cuanto antes.  
    Recuerda que a√∫n puede contener errores, pero trabajamos para mejorarla r√°pidamente.<br />
    Si encuentras alg√∫n fallo o tienes sugerencias, por favor  
    <a href="/contacto/contacto.html"><strong>inf√≥rmanos aqu√≠</strong></a>.
  </p>
  <button id="close-banner" aria-label="Cerrar aviso">&times;</button>
</aside>






<nav>
    <a href="index.html">
        <img src="images/logo.png" alt="Escritores en Proceso" class="logo-img" />
    </a>
    <div class="nav-links">
        <a href="index.html" class="activo">Inicio</a>
        <a href="sobre-nosotros/index.html">Sobre Nosotros</a>
        <a href="/solicitud/solicitud.html">¬øQuieres subir tu libro?</a>
        <a href="/contacto/contacto.html">Contactanos</a>
        <button id="install-btn" style="display: none;">üì≤ Instalar nuestra app</button>
        <button id="toggle-dark-mode" aria-label="Alternar modo oscuro">üåì</button>
    </div>
    <!-- üîç Barra de b√∫squeda eliminada temporalmente -->

    <!-- üîç Contenedor de resultados debajo del buscador -->
    <div id="resultadosBusqueda" class="resultados-busqueda"></div>


</nav>
<section class="libros-carrusel" id="recientes">
  <h3>Libros Recientes</h3>
  <p class="subtitulo-carrusel">Los t√≠tulos m√°s nuevos a√±adidos por nuestros escritores.</p>
  <div class="contenedor-principal">
    <button class="flecha-izquierda" id="izquierda-recientes">&lt;</button>
    <div class="contenedor-carousel">
      <div class="carousel" id="carousel-recientes"></div>
    </div>
    <button class="flecha-derecha" id="derecha-recientes">&gt;</button>
  </div>
  <div class="indicadores" id="indicadores-recientes"></div>
</section>

<div id="carousel-recientes" class="carousel-container">
  <!-- Aqu√≠ se agregan libros din√°micamente -->
</div>

<section class="libros-carrusel" id="proximamente">
  <h3>Libros Pr√≥ximamente</h3>
  <p class="subtitulo-carrusel">Selecci√≥n especial de libros que estar√°n disponibles pronto.</p>
  <div class="contenedor-principal">
    <button class="flecha-izquierda" id="izquierda-proximamente">&lt;</button>
    <div class="contenedor-carousel">
      <div class="carousel" id="carousel-proximamente"></div>
    </div>
    <button class="flecha-derecha" id="derecha-proximamente">&gt;</button>
  </div>
  <div class="indicadores" id="indicadores-proximamente"></div>

<section class="libros-carrusel" id="populares">
  <h3>Libros Populares</h3>
  <p class="subtitulo-carrusel">Los libros que m√°s han captado la atenci√≥n de nuestra comunidad.</p>
  <div class="contenedor-principal">
    <button class="flecha-izquierda" id="izquierda-populares">&lt;</button>
    <div class="contenedor-carousel">
      <div class="carousel" id="carousel-populares"></div>
    </div>
    <button class="flecha-derecha" id="derecha-populares">&gt;</button>
  </div>
  <div class="indicadores" id="indicadores-populares"></div>
</section>



<script>
  // Registrar Service Worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js')
      .then(reg => {
        console.log('‚úÖ Service Worker registrado con √©xito:', reg.scope);
      })
      .catch(err => {
        console.log('‚ùå Error al registrar el Service Worker:', err);
      });
  }

  // Manejo de instalaci√≥n PWA
  let deferredPrompt;
  const installBtn = document.getElementById('install-btn');

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;

    // Mostrar el bot√≥n de instalar
    if (installBtn) installBtn.style.display = 'inline-block';

    installBtn.addEventListener('click', () => {
      deferredPrompt.prompt();

      deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('üì≤ El usuario acept√≥ instalar la app');
        } else {
          console.log('üôÖ‚Äç‚ôÇÔ∏è El usuario cancel√≥ la instalaci√≥n');
        }
        deferredPrompt = null;
        installBtn.style.display = 'none';
      });
    });
  });

  // Ocultar el bot√≥n si ya se instal√≥
  window.addEventListener('appinstalled', () => {
    console.log('‚úÖ App instalada correctamente');
    if (installBtn) installBtn.style.display = 'none';
  });
</script>


<script src="proximos.js" defer></script>
<script src="main.js" defer></script>
</body>
</html>
